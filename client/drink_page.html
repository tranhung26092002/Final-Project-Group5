<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chu</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/style2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
</head>

<body>
    <!--header-->
    <header>
        <div class="logo">
            <img src="img1/highlands-coffee-red-logo.webp">
        </div>
        <div class="menu">
            <li><a 
                onclick="handleTrangchu()"
                href="#">Trang chủ</a>  </li>
            <li><a 
                onclick="handleFood()"
                href="#">Đồ ăn</a>  </li>
            <li><a 
                onclick="handleDrink()"
                href="#">Đồ uống</a>  </li>
            <li><a 
                onclick="handleNews()"
                href="#">Tin Tuc</a>  </li>
            <li><a 
                onclick="handleAddress()"
                href="#">Địa chỉ</a> </li>
            <li><a 
                onclick="handleBill()"
                href="#">Thanh toán</a>  </li>
        </div>
        <div class="other">
            <li><input placeholder="Tìm Kiếm " type="text"> <i class='bx bx-search'></i></li>
            <li><a href="#"> <i class='bx bx-user'></i> </a> </li>
            <li><a href="#"> <i class='bx bx-shopping-bag' ></i> </a> </li>
        </div>
    </header>

    <!-- /drink/ -->
    <main>
        <section class="product">
          <h2>Trà sữa</h2>
          <img src="https://sieuthimaycafe.vn/uploads/product/1602815572_1584608887_do-uong-highland-ngon.jpg" alt="Trà sữa">
          <p>Giá: 30.000 đồng</p>
          <button onclick="addToCart('Trà sữa', 30000)">Mua ngay</button>
        </section>
        <section class="product">
          <h2>Nước ép trái cây</h2>
          <img src="https://thuviendohoa.vn/2020/upload/images/items/hinh-anh-nuoc-ep-hoa-qua-trai-cay-tuoi-4049.jpg?t=20170502_031126" alt="Nước ép trái cây">
          <p>Giá: 25.000 đồng</p>
          <button onclick="addToCart('Nước ép trái cây', 25000)">Mua ngay</button>
        </section>
        <section class="product">
          <h2>Cà phê đen</h2>
          <img src="https://lepathcoffee.com/wp-content/uploads/2021/12/nen-uong-ca-phe-den-hay-ca-phe-sua.jpg" alt="Cà phê đen">
          <p>Giá: 20.000 đồng</p>
          <button onclick="addToCart('Cà phê đen', 20000)">Mua ngay</button>
        </section>
        <section class="product">
          <h2>Trà chanh</h2>
          <img src="https://icon2.cleanpng.com/20180215/ske/kisspng-lemonade-drink-milk-tea-a-cup-of-frozen-lemon-tea-5a861bfcea8a10.1737825415187384289607.jpg" alt="Trà Chanh ">
          <p>Giá: 15.000 đồng</p>
          <button onclick="addToCart('Trà chanh', 15000)">Mua ngay</button>
        </section>
        <section class="product">
          <h2>Latte</h2>
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTptnJ18ttn5W31q8jPnAWSCmw_JwQWAl2Xjg&usqp=CAU" alt="Latte">
          <p>Giá: 35.000 đồng</p>
          <button onclick="addToCart('Latte', 35000)">Mua ngay</button>
        </section>
        <section class="product">
          <h2>Nước suối</h2>
          <img src="https://sonhawater.com/wp-content/uploads/2019/10/aquafina-500ml-300x300.jpg" alt="Nước suối">
          <p>Giá: 10.000 đồng</p>
          <button onclick="addToCart('Nước suối', 10000)">Mua ngay</button>
        </section>
      </main>
      <aside>
        <h2>Giỏ hàng</h2>
        <ul id="cart"></ul>
        <p>Tổng tiền: <span id="total">0</span> đồng</p>
        <button onclick="checkout()">Thanh toán</button>
      </aside>
    <section class="app-container">
        <p>Tai ung dung</p>
        <div class="app">
            <a href="#"> <img src="img1/app Store.png" alt="logo app store"> </a>
            <a href="#"> <img src="img1/CH play.png" alt="logo ch play"> </a>
        </div>
        <p>Nhap ban tin</p>
        <input type="text" placeholder="Nhap email cua ban ...">
    </section>
    <!--footer-->
    <div class="footer-top">
        <li> <a href=""> <img src="" alt=""> </a> </li>
        <li> Lien he </li>
        <li> Tuyen dung </li>
        <li> Gioi thieu </li>
        <li>
            <i class='bx bxl-facebook'></i>
            <i class='bx bxl-youtube'></i>
            <i class='bx bxl-twitter'></i>
        </li>
    </div>
    <div class="footer-center">
        <p>
            Dia chi cong ty: Hoc vien cong nghe buu chinh vien thong <br><!--xuong dong-->
            Dat hang online: <b>0386527618</b>
        </p>
    </div>
    <div class="footer-bottom">
        @tranvanhung
    </div>
</body>
    <script>
            
        const header = document.querySelector("header") 
        window.addEventListener("scroll",function(){
            x = window.pageYOffset
            if(x>0){
                header.classList.add("sticky")
            }
            else{
                header.classList.remove("sticky")
            }
        })
    </script>
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
    <script src="js/jwt-decode.js"></script>
    <script src="js/common.js"></script>
    <script src="js/home_page.js"></script>
    <script >
        let cart = [];
        function addToCart(name, price) {
    // Tìm sản phẩm trong giỏ hàng bằng tên
    let product = cart.find(item => item.name === name);
    if (product) {
      // Nếu sản phẩm đã có trong giỏ hàng, tăng số lượng lên 1
      product.quantity += 1;
    } else {
      // Nếu sản phẩm chưa có trong giỏ hàng, thêm sản phẩm vào giỏ hàng
      cart.push({ name: name, price: price, quantity: 1 });
    }
    // Cập nhật giỏ hàng trên giao diện
    renderCart();
  }
  function renderCart() {
    let cartElement = document.getElementById("cart");
    cartElement.innerHTML = ""; // Xóa hết các phần tử trong giỏ hàng trên giao diện
    let total = 0;
    // Duyệt qua các sản phẩm trong giỏ hàng
    for (let item of cart) {
      let itemElement = document.createElement("li");
      itemElement.innerText = `${item.name} x ${item.quantity} = ${item.price * item.quantity} đồng`;
      cartElement.appendChild(itemElement);
      total += item.price * item.quantity;
    }
    // Hiển thị tổng tiền trên giao diện
    let totalElement = document.getElementById("total");
    totalElement.innerText = total;
    
  }
  window.onload = function() {
    renderCart();
  };
  
  function checkout() {
    var cartList = document.getElementById("cart").children;
    var total = 0;
    var items = [];
  
    // Tính tổng tiền và lấy danh sách sản phẩm
    for (var i = 0; i < cartList.length; i++) {
      var item = {};
      item.name = cartList[i].dataset.name;
      item.price = parseInt(cartList[i].dataset.price);
      total += item.price;
      items.push(item);
    }
  
    // Hiển thị cửa sổ thông báo xác nhận thanh toán
    let message =`Bạn có chắc chắn muốn thanh toán cho các sản phẩm sau đây?\n\n`;
   
    let confirmCheckout = confirm(message);
    console.log(confirm)
   
    // Nếu người dùng xác nhận thanh toán, xóa danh sách sản phẩm và reset tổng tiền
    if (confirmCheckout) {
      alert("Thanh toán thành công!");
    }
  }
      </script>
    </body>
  </html>